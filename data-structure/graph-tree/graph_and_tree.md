# Graph

노드와 그 노드를 연결하는 간선을 하나로 모아놓은 구조로, 연결되어 있는 객체 간의 관계를 표현할 수 있는 자료구조

(실생활 예시: 지하철 노선도, 버전 관리 시스템, 도로 등)

### 그래프 용어

- 노드(=정점): 위치
- 간선: 위치 간의 관계. 즉, 노드를 연결하는 선
- 사이클: 단순 경로의 시작 정점과 종료 정점이 동일한 경우
- 연결 요소: 한 개의 그래프에서 나누어진 각각의 그래프
- 
![Untitled](https://github.com/Ahrang777/CS-Study/assets/100702397/4e6cb198-379b-48cf-9c65-440d133ffe76)

### 그래프의 특징

- 노드들 사이에 여러 경로를 가질 수 있다.
- loop/circuit 이 모두 가능하다.
- 순회는 BFS(너비우선탐색)나 DFS(깊이우선탐색)로 이루어진다.
- 순환/비순환 그래프로 구분할 수 있고, 방향/무방향 그래프로 구분할 수 있다.

### 그래프 종류

> _방향성에 따라_

- 무방향 그래프: 방향이 없다. (= 양방향 그래프라고도 함)
  Ex) A - B : A → B 가능, B → A 가능
- 방향 그래프: 방향이 있다.
  Ex) A → B : A → B만 가능, B → A는 불가능

> _순환성에 따라_

- 순환 그래프: 그래프를 통 틀어서 한 군데라도 cycle이 존재함
- 비순환 그래프: cycle이 존재하지 않음

### 그래프 구현

그래프는 인접 행렬과 인접 리스트의 두 가지 방법으로 구현할 수 있다.

1. **인접 행렬**

   > 행의 번호는 간선의 시작 인덱스, 열의 번호는 도착 인덱스
   > ex) a[0][1] 은 0 → 1 로 가는 루트를 의미함. 경로가 없으면 0으로 표시

![Untitled](https://github.com/Ahrang777/CS-Study/assets/100702397/4b20f4ca-1ae5-4341-a957-a18626f5e0e1)

-> 무방향 그래프는 행렬이 대각선을 기준으로 대칭을 이룬다.

2. **인접 리스트**
   
 ![Untitled](https://github.com/Ahrang777/CS-Study/assets/100702397/f53da430-62df-4ecc-bf15-8037052d978e)

-> 인접 행렬과의 차이점은 경로가 없는 것에 대한 값을 지정하지 않아도 된다는 점이다.

3. **인접 행렬 vs 인접 리스트**

   - `인접 행렬`이 리스트보다 `공간을 더 많이 사용`한다.
     - 인접 행렬은 노드가 N개이면 무조건 공간이 N^2개 필요하지만 인접 리스트는 간선의 개수에 따라 공간을 절약할 수 있다.
   - `인접 행렬`은 리스트보다 `시간이 적게 소요`된다.
     - 인접 행렬은 임의 접근을 이용할 때 O(1)이 소요되지만, 인접 리스트는 O(N)이 소요된다.

   ⇒ 따라서 간선의 개수가 많으면 인접 행렬을, 간선의 개수가 적으면 인접 리스트를 사용할 수 있을 것이다.

# Tree

계층적 관계를 표현하는 비선형 자료구조

(실생활 예시: 토너먼트, 조직도, 데이터베이스 등)

### **트리 용어**

- Node(노드): 트리를 구성하고 있는 각각의 요소
- Edge(간선): 트리를 구성하기 위해 노드와 노드를 연결하는 선
- Root Node: 트리 구조에서 최상위에 있는 노드
- Terminal Node(단말 노드): 하위에 다른 노드가 연결되어 있지 않은 노드
- Internal Node(내부 노드): 단말 노드를 제외한 모든 노드(루트 노드 포함)
  <br/>

### **트리의 특징**

- 트리는 하나의 루트 노드를 갖는다.
- 트리에는 사이클이 존재할 수 없다.
- 루트에서 어떤 노드로 가는 경로는 유일하다. 즉, 두 개의 정점 사이에 반드시 1개의 경로만을 가진다.
- 노드의 개수가 N개면 간선은 N-1개를 가진다.

### **트리 순회 방식**
![68747470733a2f2f7777772e6765656b73666f726765656b732e6f72672f77702d636f6e74656e742f75706c6f6164732f62696e6172792d747265652d746f2d444c4c2e706e67](https://github.com/Ahrang777/CS-Study/assets/100702397/a56d2649-c6d1-43b9-ba3d-e1fa6fb4b35a)

1. **전위 순회(pre-order)**: 각 루트를 순차적으로 먼저 방문하는 방식 (root->좌->우)
   | 1 -> 2 -> 4 -> 8 -> 9 -> 5 -> 10 -> 11 -> 3 -> 6 -> 13 -> 7 -> 14
2. **중위 순회(in-order)**: 왼쪽 하위 트리를 모두 방문한 후 루트를 방문하는 방식 (좌->root->우)
   | 8 -> 4 -> 9 -> 2 -> 10 -> 5 -> 11 -> 1 -> 13 -> 6 -> 3 -> 14 -> 7
3. **후위 순회(post-order)**: 왼쪽 하위 트리부터 하위를 모두 방문한 뒤 루트를 방문하는 방식 (좌->우->root)
   | 8 -> 9 -> 4 -> 10 -> 11 -> 5 -> 2 -> 13 -> 6 -> 14 -> 7 -> 3 -> 1

### **Java로 트리 구현하기**

```java
public class Tree {
	int count;

	public Tree() {
		count = 0;
	}

	public class Node {
		Object data;
		Node left;
		Node right;

		// 생성 시 매개변수를 받아 초기화하는 방법으로만 선언 가능
		public Node(Object data) {
			this.data = data;
			left = null;
			right = null;
		}

		public void addLeft(Node node) {
			left = node;
			count++;
		}

		public void addRight(Node node) {
			right = node;
			count++;
		}

		public void deleteLeft() {
			left = null;
			count--;
		}

		public void deleteRight() {
			right = null;
			count--;
		}
	}

	public Node addNode(Object data) {
		Node n = new Node(data);
		return n;
	}
}

```

## **Binary Tree**

루트 노드를 중심으로 두 개의 서브 트리로 나뉘어지는 트리. 즉, 각 노드가 최대 2개의 자식 노드를 갖는 트리이다.

### **Binary Tree 특징**

- 자식 노드는 항상 자신이 부모의 왼쪽 자식인지 오른쪽 자식인지를 부여 받는다.
- 따라서 두 개의 트리가 같은 key를 가지는 노드를 자식으로 가지고 있다고 해도, 왼/오른쪽 위치가 다른 경우 다른 트리로 취급한다.

## **Binary Search Tree**

이진 탐색 트리는 이진 트리의 일종으로, 이진 트리에 더해 데이터를 저장하는 규칙이 있는 트리이다. 그리고 그 규칙은 특정 데이터의 위치를 찾는데 사용할 수 있다.

### **BST의 데이터 저장 규칙**

1. 이진 탐색 트리의 노드에 저장된 키는 유일하다.
2. 부모의 키보다 왼쪽 자식의 키가 작다.
3. 부모의 키보다 오른쪽 자식의 키가 크다.
4. 왼쪽과 오른쪽 서브트리도 이진 탐색 트리이다.

### **BST 탐색 연산의 시간 복잡도**

이진 탐색 트리의 탐색 연산은 O(logn)의 시간 복잡도를 갖는다. 트리의 높이를 하나씩 더해갈수록 추가할 수 있는 노드의 수가 두 배씩 증가하기 때문이다. 하지만 이진 탐색 트리가 Skewed Tree가 되는 경우 탐색은 worst case가 되고, 시간 복잡도는 O(n)이 된다.

이와 같이 배열보다 많은 메모리를 사용하여 데이터를 저장했지만 탐색에 필요한 시간 복잡도가 같게 되는 상황을 해결하기 위해 나타난 것이 `Red-Black Tree`이다.

# Graph vs Tree

|           |      그래프      |        트리         |
| :-------: | :--------------: | :-----------------: |
|  방향성   |   방향, 무방향   |       방향만        |
|  사이클   |       가능       |       불가능        |
| 루트 노드 |   루트 개념 X    | 한 개의 루트만 존재 |
| 부모-자식 | 부모-자식 개념 X |   1개의 부모 노드   |
|   모델    |  네트워크 모델   |      계층 모델      |
|  간선 수  |       자유       |        N-1개        |
