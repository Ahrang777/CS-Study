# Hash Table

## 개념

### 해시 함수 (Hash Function)

임의 크기 데이터를 고정 크기 값으로 매핑하는 데 사용할 수 있는 함수

### 해시 테이블 (Hash Table)

Key와 Value를 1:1로 연관지어 저장하는 자료구조

## 기능

- 연관배열 구조와 동일한 기능 지원

- Key, Value 저장

- Key가 주어졌을 때, 해당 Key와 연관된 Value 조회

- 기존 Key에 새로운 Value가 주어졌을 때, 기존 Value를 새로운 Value로 대체

- Key가 주어졌을 때, 해당 Key에 연관된 Value 제거

## 구조 및 동작과정

<img src="https://github.com/Ahrang777/CS-Study/assets/72875528/94d081f2-0289-4857-a167-1bac462d6b29" width="40%" height="40%"/>

## 시간복잡도

- 평균 : O(1)

- 최악 : O(N)

## 장단점

### 장점

- 작은 리소스로 많은 데이터 효율적으로 관리 가능

- 배열 인덱스 사용으로 빠른 검색, 삽입, 삭제 가능

- Key와 Hash 사이에 연관성이 없어 보안에 유리

- 데이터 캐싱에 많이 사용

- 중복 제거 유용

### 단점

- 충돌 발생 가능성 존재

- 공간 복잡도 증가

- 순서 무시

- 해시 함수에 의존

## 충돌

### 해시충돌이란?

해시함수가 서로 다른 두 개의 입력값에 대해 동일한 출력값을 내는 상황을 의미

해시함수를 이용한 자료구조나 알고리즘의 효율적을 떨어뜨리기 때문에, 해시함수는 해시충돌이 자주 발생하지 않도록 구성

### 비둘기집 원리

> n개 아이템을 m개 컨테이너에 넣을 때, n > m이라면 적어도 하나의 컨테이너에는 반드시 2개 이상의 아이템이 들어있다는 원리

### Birthday Paradox

> 366명의 사람이 모였을 때, 생일이 곂치는 사람이 최소 2명 이상이 된다는 것으로 모든 경우의 수를 넘어서는 통계 표본이 존재할 때, 중복되는 값이 필연적으로 발생한다는 수학적 원리

### 충돌 해결 방법

#### 개별 체이닝(Separate Chaining)

연결리스트나 레드-블랙 트리로 연결하는 방식

JDK 내부에서 사용하는 충돌 처리 방식

1. 키의 해시 값을 계산한다.

2. 해시 값을 이용해 배열의 인덱스를 구한다.

3. 같은 인덱스가 있다면 연결 리스트로 연결한다.

Java8에서는 연결 리스트 구조를 좀 더 최적화하여, 데이터의 개수가 많아지면 레드-블랙 트리에 저장하는 형태로 병행해 사용

#### 오픈 어드레싱(Open Addressing)

- 충돌 발생 시 탐사를 통해 빈 공간을 찾아나서는 방식

- 추가 메모리 공간을 사용하지 않고, HashTable 배열의 빈 공간을 사용

- 데이터를 삽입하려는 해시 버킷이 이미 사용 중인 경우 다른 해시 버킷에 해당 데이터를 삽입하는 방식

## HashTable vs HashMap

### HashTable

- 동기
- Key-Value 값으로 null 미허용(Key가 hashcode(), equals()를 사용하기 때문)
- 보조 해시 함수와 separating Chaining을 사용해서 비교적 충돌 덜 발생

### HashMap

- 비동기
- Key-Value 값으로 null 허용
