# Stream

## Stream이란

JAVA8에서 추가된 API로 SQL 질의문과 같은 **선언형**으로 데이터(컬렉션, 배열, 파일 등)를 처리할 수 있도록 함.  
컬렉션 타입의 데이터를 Stream 메소드에서 **내부 반복**을 통해 정렬, 필터링이 가능해짐.

### 외부 반복 vs 내부 반복

- **외부 반복** 사용자가 직접 컬렉션의 항목을 하나씩 가져와서 처리하기 때문에 최적화를 달성하기 어려움

- **내부 반복**  
  반복을 알아서 처리하고 결과 스트림 값을 어딘가에 저장해주기 때문에 작업을 투명하게 벙렬적으로 처리하거나 최적화된 다양한 순서로 처리 할 수 있음.

### 특징

- 데이터 소스를 변경하지 않음(Immutable)

  - 스트림은 데이터 소스로부터 데이터를 읽기만 하고, 데이터 소스를 변경하지 않음. 필요한 경우 결과를 컬렉션이나 배열에 담아 반환해야 함.

- 재사용 불가능

  - 한 번 사용하면 닫혀서 다시 사용할 수 없음. 저장된 데이터를 꺼내서 처리하는 용도이기 때문

- 조립 가능 (파이프 라이닝)

- 내부 반복

- 병렬화

### 장점

- 가독성 향상
- 손 쉬운 병렬 처리

### 스트림 연산

- **중간 연산**

  - 연산 결과를 스트림으로 반환하기 때문에 중간 연산을 연속해서 연결할 수 있음
  - 핵심 메서드: map(), flatMap()

- **최종 연산**
  - 스트림의 요소를 소모하면서 연산을 수행하기 때문에 단 한 번만 연산이 가능함
  - 핵심 메서드: reduce(), collect()

---

### 참고

https://velog.io/@adam2/JAVA8%EC%9D%98-%EC%8A%A4%ED%8A%B8%EB%A6%BC-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0

https://effectivesquid.tistory.com/entry/Java-Stream%EC%9D%B4%EB%9E%80
