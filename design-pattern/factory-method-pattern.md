# 팩토리 메서드 패턴

## 팩토리 패턴 (Factory Pattern)

> 객체의 생성을 캡슐화하는 패턴

- 구체적인 객체의 생성 과정을 팩토리로 모듈화하여 구체적인 부분이 아닌 추상적인 부분에 의존할 수 있도록 한다.
- 팩토리 패턴에는 팩토리 메서드 패턴과 추상 팩토리 패턴이 있다.

### 팩토리 메서드 패턴 VS 추상 팩토리 패턴

- 공통점
  - 객체의 생성부를 캡슐화하여 결합을 느슨하게 한다.
  - 구체적인 타입에 의존하지 않도록 한다.
- 차이점
  - 팩토리 메서드 패턴 : 상속을 통해 서브 클래스에서 팩토리 메서드를 오버라이딩하여 객체의 생성부를 구현한다.
  - 추상 팩토리 패턴 : 객체의 집합을 생성하기 위한 정의를 추상체에 위치시키고 하위의 구현체에서 세부적인 집합 생성 과정을 구현한다. (Factory Method를 이용해 구현)

## 팩토리 메서드 패턴

> 객체 생성 처리를 서브 클래스로 분리 해 처리하도록 캡슐화하는 패턴

- 객체의 생성 코드를 별도의 클래스 / 메서드로 분리함으로써 객체 생성의 변화에 대비하는데 유용하다.
- Strategy 패턴, Singleton 패턴, Template Method 패턴을 사용한다.

![image](https://github.com/Ahrang777/CS-Study/assets/72875528/5e59f3ba-c834-4fd4-9b41-633508ce2a20)

- Product : 팩토리 메서드로 생성될 객체의 공통 인터페이스
- ConcreteProduct : 구체적으로 객체가 생성되는 클래스
- Creator : 팩토리 메서드를 갖는 클래스
- ConcreteCreator : 팩토리 메서드를 구현하는 클래스로 ConcreteProduct 객체를 생성

### 개념 및 적용 방법

1. 객체 생성을 전달하는 별도의 Factory 클래스 이용

- Strategy 패턴과 Singleton 패턴을 이용한다.

2. 상속 이용 : 하위 클래스에서 적합한 클래스의 객체를 생성
   - Strategy 패턴, Singleton 패턴, Template Method 패턴을 이용한다.

### 사용 시기

- 생성할 객체 타입을 예측할 수 없을 때
- 생성할 객체를 기술하는 책임을 서브클래스에게 정의하고자 할 때
- 객체 생성의 책임을 서브 클래스에 위임시키고 서브 클래스에 대한 정보를 은닉하고자 할 때

### 장단점

1. 장점

- 기존 코드를 수정하지 않고 새로운 인스턴스를 다른 방법으로 생성하도록 확장할 수 있다.
- 코드가 간결해진다.
- 병렬적 클래스 계층도를 연결하는 역할을 담당할 수 있다.

2. 단점

- 클래스가 많아진다.
  - 제품 클래스가 바뀔 때마다 새로운 서브 클래스를 생성해야 한다.
- 클라이언트가 Creator 클래스를 반드시 상속하여 Product를 생성해야 한다.

## 참고

https://dev-youngjun.tistory.com/195  
https://gmlwjd9405.github.io/2018/08/07/factory-method-pattern.html
